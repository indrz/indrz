(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{370:function(t,e,r){var n=r(28);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},383:function(t,e,r){"use strict";var strong=r(395),n=r(370);t.exports=r(396)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=strong.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return strong.def(n(this,"Map"),0===t?0:t,e)}},strong,!0)},395:function(t,e,r){"use strict";var n=r(34).f,o=r(109),h=r(194),l=r(50),c=r(192),d=r(193),_=r(136),f=r(196),v=r(137),m=r(26),y=r(135).fastKey,C=r(370),x=m?"_s":"size",O=function(t,e){var r,n=y(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,_){var f=t(function(t,n){c(t,f,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[x]=0,null!=n&&d(n,r,t[_],t)});return h(f.prototype,{clear:function(){for(var t=C(this,e),data=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete data[r.i];t._f=t._l=void 0,t[x]=0},delete:function(t){var r=C(this,e),n=O(r,t);if(n){var o=n.n,h=n.p;delete r._i[n.i],n.r=!0,h&&(h.n=o),o&&(o.p=h),r._f==n&&(r._f=o),r._l==n&&(r._l=h),r[x]--}return!!n},forEach:function(t){C(this,e);for(var r,n=l(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!O(C(this,e),t)}}),m&&n(f.prototype,"size",{get:function(){return C(this,e)[x]}}),f},def:function(t,e,r){var n,o,h=O(t,e);return h?h.v=r:(t._l=h={i:o=y(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=h),n&&(n.n=h),t[x]++,"F"!==o&&(t._i[o]=h)),t},getEntry:O,setStrong:function(t,e,r){_(t,e,function(t,r){this._t=C(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))},r?"entries":"values",!r,!0),v(e)}}},396:function(t,e,r){"use strict";var n=r(19),o=r(14),h=r(35),l=r(194),meta=r(135),c=r(193),d=r(192),_=r(28),f=r(29),v=r(138),m=r(80),y=r(139);t.exports=function(t,e,r,C,x,O){var w=n[t],E=w,k=x?"set":"add",F=E&&E.prototype,T={},P=function(t){var e=F[t];h(F,t,"delete"==t?function(a){return!(O&&!_(a))&&e.call(this,0===a?0:a)}:"has"==t?function(a){return!(O&&!_(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return O&&!_(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof E&&(O||F.forEach&&!f(function(){(new E).entries().next()}))){var S=new E,G=S[k](O?{}:-0,1)!=S,L=f(function(){S.has(1)}),j=v(function(t){new E(t)}),I=!O&&f(function(){for(var t=new E,e=5;e--;)t[k](e,e);return!t.has(-0)});j||((E=e(function(e,r){d(e,E,t);var n=y(new w,e,E);return null!=r&&c(r,x,n[k],n),n})).prototype=F,F.constructor=E),(L||I)&&(P("delete"),P("has"),x&&P("get")),(I||G)&&P(k),O&&F.clear&&delete F.clear}else E=C.getConstructor(e,t,x,k),l(E.prototype,r),meta.NEED=!0;return m(E,t),T[t]=E,o(o.G+o.W+o.F*(E!=w),T),O||C.setStrong(E,t,x),E}},397:function(t,e,r){"use strict";r(17);var n=r(1),o=r(411);e.a=n.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(o.a,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},411:function(t,e,r){"use strict";r(10),r(9),r(4),r(3),r(7),r(108);var n=r(2),o=(r(17),r(414),r(134)),h=r(20),l=r(61),c=r(144),d=r(18),_=r(0),f=r(6);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,r)}return e}var m=Object(f.a)(h.a,Object(l.b)(["absolute","fixed","top","bottom"]),c.a,d.a).extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(_.g)(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(_.g)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){return{opacity:null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity),left:Object(_.g)(this.normalizedValue,"%"),width:Object(_.g)(this.normalizedBuffer-this.normalizedValue,"%")}},classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(source,!0).forEach(function(e){Object(n.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?o.c:o.d},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(_.g)(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var slot=Object(_.r)(this,"default",{value:this.internalLazyValue});return slot?this.$createElement("div",{staticClass:"v-progress-linear__content"},slot):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(n.a)({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect().width;this.internalValue=t.offsetX/e*100}},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){return t("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(_.g)(this.height):0,top:this.top?0:void 0},on:this.genListeners()},[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}});e.a=m},414:function(t,e,r){var content=r(415);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("cf87dc84",content,!0,{sourceMap:!1})},415:function(t,e,r){(t.exports=r(11)(!1)).push([t.i,".theme--light.v-progress-linear{color:rgba(0,0,0,.87)}.theme--dark.v-progress-linear{color:#fff}.v-progress-linear{background:transparent;overflow:hidden;position:relative;transition:.2s;width:100%}.v-progress-linear__buffer{height:inherit;left:0;position:absolute;top:0;transition:inherit;width:100%;z-index:1}.v-progress-linear__background{bottom:0;left:0;position:absolute;top:0;transition:inherit}.v-progress-linear__content{align-items:center;display:flex;height:100%;left:0;justify-content:center;position:absolute;top:0;width:100%;z-index:2}.v-progress-linear__determinate{height:inherit;transition:inherit}.v-progress-linear__indeterminate .long,.v-progress-linear__indeterminate .short{background-color:inherit;bottom:0;height:inherit;left:0;position:absolute;top:0;width:auto;will-change:left,right}.v-progress-linear__indeterminate--active .long{-webkit-animation:indeterminate;animation:indeterminate;-webkit-animation-duration:2.2s;animation-duration:2.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear__indeterminate--active .short{-webkit-animation:indeterminate-short;animation:indeterminate-short;-webkit-animation-duration:2.2s;animation-duration:2.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear__stream{-webkit-animation:stream .25s linear infinite;animation:stream .25s linear infinite;border-color:currentColor;border-top:4px dotted;bottom:0;opacity:.3;pointer-events:none;position:absolute;right:-8px;top:calc(50% - 2px);transition:inherit}.v-progress-linear__wrapper{overflow:hidden;position:relative;transition:inherit}.v-progress-linear--absolute,.v-progress-linear--fixed{left:0;z-index:1}.v-progress-linear--absolute{position:absolute}.v-progress-linear--fixed{position:fixed}.v-progress-linear--reactive .v-progress-linear__content{pointer-events:none}.v-progress-linear--rounded{border-radius:4px}.v-progress-linear--striped .v-progress-linear__determinate{background-image:linear-gradient(135deg,hsla(0,0%,100%,.25) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.25) 0,hsla(0,0%,100%,.25) 75%,transparent 0,transparent);background-size:40px 40px;background-repeat:repeat-x}.v-progress-linear--query .v-progress-linear__indeterminate--active .long{-webkit-animation:query;animation:query;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear--query .v-progress-linear__indeterminate--active .short{-webkit-animation:query-short;animation:query-short;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes indeterminate{0%{left:-90%;right:100%}60%{left:-90%;right:100%}to{left:100%;right:-35%}}@keyframes indeterminate{0%{left:-90%;right:100%}60%{left:-90%;right:100%}to{left:100%;right:-35%}}@-webkit-keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@-webkit-keyframes query{0%{right:-90%;left:100%}60%{right:-90%;left:100%}to{right:100%;left:-35%}}@keyframes query{0%{right:-90%;left:100%}60%{right:-90%;left:100%}to{right:100%;left:-35%}}@-webkit-keyframes query-short{0%{right:-200%;left:100%}60%{right:107%;left:-8%}to{right:107%;left:-8%}}@keyframes query-short{0%{right:-200%;left:100%}60%{right:107%;left:-8%}to{right:107%;left:-8%}}@-webkit-keyframes stream{to{transform:translateX(-8px)}}@keyframes stream{to{transform:translateX(-8px)}}",""])},487:function(t,e,r){"use strict";var n=r(365),o=r(340),h=r(330),l=r(341),c=r(338),d=r(333),_=r(344),f=r(435),v="translatestart",m="translating",y="translateend",C=function(t){function e(e,r,n){t.call(this,e),this.features=r,this.coordinate=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l.a),x=function(t){function e(e){var r,n=e||{};if(t.call(this,n),this.lastCoordinate_=null,this.features_=void 0!==n.features?n.features:null,n.layers)if("function"==typeof n.layers)r=n.layers;else{var l=n.layers;r=function(t){return Object(d.f)(l,t)}}else r=c.b;this.layerFilter_=r,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0,this.lastFeature_=null,Object(h.a)(this,Object(o.b)(f.a.ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new C(v,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new C(y,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],o=e[1]-this.lastCoordinate_[1],h=this.features_||new n.a([this.lastFeature_]);h.forEach(function(t){var e=t.getGeometry();e.translate(r,o),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new C(m,h,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,map){return map.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(d.f)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(map){var e=this.getMap();t.prototype.setMap.call(this,map),this.updateState_(e)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var map=this.getMap(),e=this.getActive();map&&e||(map=map||t)&&map.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(_.b);e.a=x},488:function(t,e,r){"use strict";var n=r(328),o=r(365),h=r(376),l=r(402),c=r(369),d=r(333),_=r(368),f=r(330),v=r(341),m=r(329),y=r(345),C=r(327),x=r(335),O=r(377),w=r(344),E=r(367),k=r(357),F=r(430),T=r(428),P=r(354),S=1,G="modifystart",L="modifyend",j=function(t){function e(e,r,n){t.call(this,e),this.features=r,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(v.a),I=function(t){function e(e){var style,r;if(t.call(this,e),this.condition_=e.condition?e.condition:y.h,this.defaultDeleteCondition_=function(t){return Object(y.a)(t)&&Object(y.j)(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:y.c,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new T.a,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new E.a({source:new k.a({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(style=Object(P.b)(),function(t,e){return style[x.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,r=new o.a(this.source_.getFeatures()),Object(f.a)(this.source_,F.a.ADDFEATURE,this.handleSourceAdd_,this),Object(f.a)(this.source_,F.a.REMOVEFEATURE,this.handleSourceRemove_,this)):r=e.features,!r)throw new Error("The modify interaction requires features or a source");this.features_=r,this.features_.forEach(this.addFeature_.bind(this)),Object(f.a)(this.features_,h.a.ADD,this.handleFeatureAdd_,this),Object(f.a)(this.features_,h.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var map=this.getMap();map&&map.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,map),Object(f.a)(t,m.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new j(G,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(f.c)(t,m.a.CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,r=[];e.forEach(function(e){t===e.feature&&r.push(e)});for(var i=r.length-1;i>=0;--i)e.remove(r[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(map){this.overlay_.setMap(map),t.prototype.setMap.call(this,map)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,geometry:e,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],h={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),h)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),h={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert(Object(C.b)(o),h)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],i=0,l=h.length-1;i<l;++i){var c=h.slice(i,i+2),d={feature:t,geometry:e,depth:[n],index:i,segment:c};this.rBush_.insert(Object(C.b)(c),d)}},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],i=0,l=h.length-1;i<l;++i){var c=h.slice(i,i+2),d={feature:t,geometry:e,depth:[n],index:i,segment:c};this.rBush_.insert(Object(C.b)(c),d)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],l=0,c=h.length;l<c;++l)for(var d=h[l],i=0,_=d.length-1;i<_;++i){var f=d.slice(i,i+2),v={feature:t,geometry:e,depth:[l,n],index:i,segment:f};this.rBush_.insert(Object(C.b)(f),v)}},e.prototype.writeCircleGeometry_=function(t,e){var r=e.getCenter(),n={feature:t,geometry:e,index:0,segment:[r,r]},o={feature:t,geometry:e,index:S,segment:[r,r]},h=[n,o];n.featureSegments=o.featureSegments=h,this.rBush_.insert(Object(C.m)(r),n),this.rBush_.insert(e.getExtent(),o)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,t,r[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new l.a(new O.a(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=c.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(r=!(e.type!=c.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==c.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!r);var r},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,i=0,r=this.dragSegments_.length;i<r;++i){for(var n=this.dragSegments_[i],o=n[0],h=o.depth,l=o.geometry,c=void 0,d=o.segment,f=n[1];e.length<l.getStride();)e.push(d[f][e.length]);switch(l.getType()){case x.a.POINT:c=e,d[0]=d[1]=e;break;case x.a.MULTI_POINT:(c=l.getCoordinates())[o.index]=e,d[0]=d[1]=e;break;case x.a.LINE_STRING:(c=l.getCoordinates())[o.index+f]=e,d[f]=e;break;case x.a.MULTI_LINE_STRING:case x.a.POLYGON:(c=l.getCoordinates())[h[0]][o.index+f]=e,d[f]=e;break;case x.a.MULTI_POLYGON:(c=l.getCoordinates())[h[1]][h[0]][o.index+f]=e,d[f]=e;break;case x.a.CIRCLE:d[0]=d[1]=e,0===o.index?(this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,l.setRadius(Object(_.d)(l.getCenter(),e)),this.changingFeature_=!1)}c&&this.setGeometryCoordinates_(l,c)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var o=[],h=r.getGeometry().getCoordinates(),l=Object(C.b)([h]),c=this.rBush_.getInExtent(l),d={};c.sort(N);for(var i=0,f=c.length;i<f;++i){var v=c[i],m=v.segment,y=Object(n.c)(v.feature),O=v.depth;if(O&&(y+="-"+O.join("-")),d[y]||(d[y]=new Array(2)),v.geometry.getType()===x.a.CIRCLE&&v.index===S){var w=R(e,v);Object(_.e)(w,h)&&!d[y][0]&&(this.dragSegments_.push([v,0]),d[y][0]=v)}else if(Object(_.e)(m[0],h)&&!d[y][0])this.dragSegments_.push([v,0]),d[y][0]=v;else if(Object(_.e)(m[1],h)&&!d[y][1]){if((v.geometry.getType()===x.a.LINE_STRING||v.geometry.getType()===x.a.MULTI_LINE_STRING)&&d[y][0]&&0===d[y][0].index)continue;this.dragSegments_.push([v,1]),d[y][1]=v}else this.insertVertexCondition_(t)&&Object(n.c)(m)in this.vertexSegments_&&!d[y][0]&&!d[y][1]&&o.push([v,h])}o.length&&this.willModifyFeatures_(t);for(var E=o.length-1;E>=0;--E)this.insertVertex_.apply(this,o[E])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var i=this.dragSegments_.length-1;i>=0;--i){var e=this.dragSegments_[i][0],r=e.geometry;if(r.getType()===x.a.CIRCLE){var n=r.getCenter(),o=e.featureSegments[0],h=e.featureSegments[1];o.segment[0]=o.segment[1]=n,h.segment[0]=h.segment[1]=n,this.rBush_.update(Object(C.m)(n),o),this.rBush_.update(r.getExtent(),h)}else this.rBush_.update(Object(C.b)(e.segment),e)}return this.modified_&&(this.dispatchEvent(new j(L,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,map){var e=map.getCoordinateFromPixel(t),r=Object(C.c)(Object(C.m)(e),map.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(r);if(o.length>0){o.sort(function(a,b){return M(e,a)-M(e,b)});var h=o[0],l=h.segment,c=R(e,h),d=map.getPixelFromCoordinate(c),f=Object(_.d)(t,d);if(f<=this.pixelTolerance_){var v={};if(h.geometry.getType()===x.a.CIRCLE&&h.index===S)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var m=map.getPixelFromCoordinate(l[0]),y=map.getPixelFromCoordinate(l[1]),O=Object(_.h)(d,m),w=Object(_.h)(d,y);f=Math.sqrt(Math.min(O,w)),this.snappedToVertex_=f<=this.pixelTolerance_,this.snappedToVertex_&&(c=O>w?l[1]:l[0]),this.createOrUpdateVertexFeature_(c);for(var i=1,E=o.length;i<E;++i){var k=o[i].segment;if(!(Object(_.e)(l[0],k[0])&&Object(_.e)(l[1],k[1])||Object(_.e)(l[0],k[1])&&Object(_.e)(l[1],k[0])))break;v[Object(n.c)(k)]=!0}}return v[Object(n.c)(l)]=!0,void(this.vertexSegments_=v)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var r,n=t.segment,o=t.feature,h=t.geometry,l=t.depth,c=t.index;e.length<h.getStride();)e.push(0);switch(h.getType()){case x.a.MULTI_LINE_STRING:case x.a.POLYGON:(r=h.getCoordinates())[l[0]].splice(c+1,0,e);break;case x.a.MULTI_POLYGON:(r=h.getCoordinates())[l[1]][l[0]].splice(c+1,0,e);break;case x.a.LINE_STRING:(r=h.getCoordinates()).splice(c+1,0,e);break;default:return}this.setGeometryCoordinates_(h,r);var d=this.rBush_;d.remove(t),this.updateSegmentIndices_(h,c,l,1);var _={segment:[n[0],e],feature:o,geometry:h,depth:l,index:c};d.insert(Object(C.b)(_.segment),_),this.dragSegments_.push([_,1]);var f={segment:[e,n[1]],feature:o,geometry:h,depth:l,index:c+1};d.insert(Object(C.b)(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=c.a.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new j(L,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var component,t,e,r,i,o,h,l,c,d,_,f=this.dragSegments_,v={},m=!1;for(i=f.length-1;i>=0;--i)d=(e=f[i])[0],_=Object(n.c)(d.feature),d.depth&&(_+="-"+d.depth.join("-")),_ in v||(v[_]={}),0===e[1]?(v[_].right=d,v[_].index=d.index):1==e[1]&&(v[_].left=d,v[_].index=d.index+1);for(_ in v){switch(c=v[_].right,h=v[_].left,(l=(o=v[_].index)-1)<0&&(l=0),component=t=(r=(d=void 0!==h?h:c).geometry).getCoordinates(),m=!1,r.getType()){case x.a.MULTI_LINE_STRING:t[d.depth[0]].length>2&&(t[d.depth[0]].splice(o,1),m=!0);break;case x.a.LINE_STRING:t.length>2&&(t.splice(o,1),m=!0);break;case x.a.MULTI_POLYGON:component=component[d.depth[1]];case x.a.POLYGON:(component=component[d.depth[0]]).length>4&&(o==component.length-1&&(o=0),component.splice(o,1),m=!0,0===o&&(component.pop(),component.push(component[0]),l=component.length-1))}if(m){this.setGeometryCoordinates_(r,t);var y=[];if(void 0!==h&&(this.rBush_.remove(h),y.push(h.segment[0])),void 0!==c&&(this.rBush_.remove(c),y.push(c.segment[1])),void 0!==h&&void 0!==c){var O={depth:d.depth,feature:d.feature,geometry:d.geometry,index:l,segment:y};this.rBush_.insert(Object(C.b)(O.segment),O)}this.updateSegmentIndices_(r,o,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return m},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,r,n){this.rBush_.forEachInExtent(t.getExtent(),function(o){o.geometry===t&&(void 0===r||void 0===o.depth||Object(d.b)(o.depth,r))&&o.index>e&&(o.index+=n)})},e}(w.b);function N(a,b){return a.index-b.index}function M(t,e){var r=e.geometry;if(r.getType()===x.a.CIRCLE){var n=r;if(e.index===S){var o=Object(_.h)(n.getCenter(),t),h=Math.sqrt(o)-n.getRadius();return h*h}}return Object(_.i)(t,e.segment)}function R(t,e){var r=e.geometry;return r.getType()===x.a.CIRCLE&&e.index===S?r.getClosestPoint(t):Object(_.c)(t,e.segment)}e.a=I},489:function(t,e,r){"use strict";var n=r(328),o=r(376),h=r(368),l=r(330),c=r(329),d=r(327),_=r(338),f=r(335),v=r(382),m=r(344),y=r(331),C=r(430),x=r(428);function O(t){return t.feature?t.feature:t.element?t.element:void 0}var w=function(t){function e(e){var r=e||{},n=r;n.handleDownEvent||(n.handleDownEvent=_.b),n.stopDown||(n.stopDown=_.a),t.call(this,n),this.source_=r.source?r.source:null,this.vertex_=void 0===r.vertex||r.vertex,this.edge_=void 0===r.edge||r.edge,this.features_=r.features?r.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,this.sortByDistance_=E.bind(this),this.rBush_=new x.a,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var r=void 0===e||e,o=Object(n.c)(t),h=t.getGeometry();if(h){var _=this.SEGMENT_WRITERS_[h.getType()];_&&(this.indexedFeaturesExtents_[o]=h.getExtent(Object(d.j)()),_.call(this,t,h))}r&&(this.featureChangeListenerKeys_[o]=Object(l.a)(t,c.a.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var r=this.snapTo(e.pixel,e.coordinate,e.map);return r.snapped&&(e.coordinate=r.vertex.slice(0,2),e.pixel=r.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=O(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=O(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var r=Object(n.c)(e);r in this.pendingFeatures_||(this.pendingFeatures_[r]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(y.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,o=Object(n.c)(t),h=this.indexedFeaturesExtents_[o];if(h){var c=this.rBush_,d=[];c.forEachInExtent(h,function(e){t===e.feature&&d.push(e)});for(var i=d.length-1;i>=0;--i)c.remove(d[i])}r&&(Object(l.e)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},e.prototype.setMap=function(map){var e=this.getMap(),r=this.featuresListenerKeys_,n=this.getFeatures_();e&&(r.forEach(l.e),r.length=0,n.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,map),map&&(this.features_?r.push(Object(l.a)(this.features_,o.a.ADD,this.handleFeatureAdd_,this),Object(l.a)(this.features_,o.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push(Object(l.a)(this.source_,C.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(l.a)(this.source_,C.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),n.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,map){var r=map.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n=map.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=Object(d.b)([r,n]),l=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(l=l.filter(function(t){return t.feature.getGeometry().getType()!==f.a.CIRCLE}));var c,_,v,m,y=!1,C=null,x=null;if(l.length>0){this.pixelCoordinate_=e,l.sort(this.sortByDistance_);var O=l[0].segment,w=l[0].feature.getGeometry().getType()===f.a.CIRCLE;this.vertex_&&!this.edge_?(c=map.getPixelFromCoordinate(O[0]),_=map.getPixelFromCoordinate(O[1]),v=Object(h.h)(t,c),m=Object(h.h)(t,_),Math.sqrt(Math.min(v,m))<=this.pixelTolerance_&&(y=!0,C=v>m?O[1]:O[0],x=map.getPixelFromCoordinate(C))):this.edge_&&(C=w?Object(h.b)(e,l[0].feature.getGeometry()):Object(h.c)(e,O),x=map.getPixelFromCoordinate(C),Object(h.d)(t,x)<=this.pixelTolerance_&&(y=!0,this.vertex_&&!w&&(c=map.getPixelFromCoordinate(O[0]),_=map.getPixelFromCoordinate(O[1]),v=Object(h.h)(x,c),m=Object(h.h)(x,_),Math.sqrt(Math.min(v,m))<=this.pixelTolerance_&&(C=v>m?O[1]:O[0],x=map.getPixelFromCoordinate(C))))),y&&(x=[Math.round(x[0]),Math.round(x[1])])}return{snapped:y,vertex:C,vertexPixel:x}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var r=Object(v.b)(e).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),h={feature:t,segment:o};this.rBush_.insert(Object(d.b)(o),h)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,t,r[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),h={feature:t,segment:o};this.rBush_.insert(Object(d.b)(o),h)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],i=0,l=h.length-1;i<l;++i){var c=h.slice(i,i+2),_={feature:t,segment:c};this.rBush_.insert(Object(d.b)(c),_)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],h={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),h)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],l=0,c=h.length;l<c;++l)for(var _=h[l],i=0,f=_.length-1;i<f;++i){var v=_.slice(i,i+2),m={feature:t,segment:v};this.rBush_.insert(Object(d.b)(v),m)}},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),n={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),n=0,o=r.length;n<o;++n)for(var h=r[n],i=0,l=h.length-1;i<l;++i){var c=h.slice(i,i+2),_={feature:t,segment:c};this.rBush_.insert(Object(d.b)(c),_)}},e}(m.b);function E(a,b){return Object(h.i)(this.pixelCoordinate_,a.segment)-Object(h.i)(this.pixelCoordinate_,b.segment)}e.a=w},500:function(t,e,r){"use strict";var n=r(329),o=r(402),h=r(369),l=r(484),c=r(340),d=r(368),_=r(330),f=r(341),v=r(345),m=r(327),y=r(338),C=r(335),x=r(352),O=r(356),w=function(t){function e(e,r,n){if(t.call(this),void 0!==n&&void 0===r)this.setFlatCoordinates(n,e);else{var o=r||0;this.setCenterAndRadius(e,o,n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,r,n){var o=this.flatCoordinates,h=t-o[0],l=e-o[1],c=h*h+l*l;if(c<n){if(0===c)for(var i=0;i<this.stride;++i)r[i]=o[i];else{var d=this.getRadius()/Math.sqrt(c);r[0]=o[0]+d*h,r[1]=o[1]+d*l;for(var _=2;_<this.stride;++_)r[_]=o[_]}return r.length=this.stride,c}return n},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,n=t-r[0],o=e-r[1];return n*n+o*o<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return Object(m.k)(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return C.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(m.F)(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||Object(m.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+r;for(var i=1;i<e;++i)n[e+i]=t[i];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,o=Object(O.a)(n,0,t,this.stride);n[o++]=n[0]+e;for(var i=1,h=this.stride;i<h;++i)n[o++]=n[i];n.length=o,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(x.a);w.prototype.transform;var E=w,k=r(431),F=r(481),T=r(405),P=r(501),S=r(436),G=r(377),L=r(382),j=r(344),I=r(435),N=r(367),M=r(357),R=r(354),D={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},B="drawstart",A="drawend",V=function(t){function e(e,r){t.call(this,e),this.feature=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f.a),U=function(t){function e(e){var r=e;r.stopDown||(r.stopDown=y.a),t.call(this,r),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===C.a.POINT||t===C.a.MULTI_POINT?e=D.POINT:t===C.a.LINE_STRING||t===C.a.MULTI_LINE_STRING?e=D.LINE_STRING:t===C.a.POLYGON||t===C.a.MULTI_POLYGON?e=D.POLYGON:t===C.a.CIRCLE&&(e=D.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===D.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:y.b;var n,o=e.geometryFunction;if(!o)if(this.type_===C.a.CIRCLE)o=function(t,e){var circle=e||new E([NaN,NaN]),r=Object(d.h)(t[0],t[1]);return circle.setCenterAndRadius(t[0],Math.sqrt(r)),circle};else{var h,l=this.mode_;l===D.POINT?h=G.a:l===D.LINE_STRING?h=k.a:l===D.POLYGON&&(h=L.a),o=function(t,e){var r=e;return r?l===D.POLYGON?t[0].length?r.setCoordinates([t[0].concat([t[0][0]])]):r.setCoordinates([]):r.setCoordinates(t):r=new h(t),r}}this.geometryFunction_=o,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new N.a({source:new M.a({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(n=Object(R.b)(),function(t,e){return n[t.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:v.g,this.freehandCondition_,e.freehand?this.freehandCondition_=v.c:this.freehandCondition_=e.freehandCondition?e.freehandCondition:v.i,Object(_.a)(this,Object(c.b)(I.a.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(map){t.prototype.setMap.call(this,map),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===n.a.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==D.POINT&&this.freehandCondition_(e);var r=e.type===h.a.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&e.type===h.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===h.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===h.a.POINTERDOWN?o=!1:r?(o=e.type===h.a.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==S.b||e.type===h.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===h.a.DBLCLICK&&(o=!1),t.prototype.handleEvent.call(this,e)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new l.a(h.a.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var r=this.mode_===D.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===D.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,n=e[0]-r[0],o=e[1]-r[1],h=n*n+o*o;if(this.shouldHandle_=this.freehand_?h>this.squaredClickTolerance_:h<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,n=[this.finishCoordinate_];if(this.mode_===D.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===D.POLYGON){var o=this.sketchCoords_;r=o[0].length>this.minPoints_,n=[o[0][0],o[0][o[0].length-2]]}if(r)for(var map=t.map,i=0,h=n.length;i<h;i++){var l=n[i],c=map.getPixelFromCoordinate(l),d=t.pixel,_=d[0]-c[0],f=d[1]-c[1],v=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(_*_+f*f)<=v){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new o.a(new G.a(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===D.POINT?this.sketchCoords_=e.slice():this.mode_===D.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o.a(new k.a(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new o.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new V(B,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,n,h=t.coordinate,l=this.sketchFeature_.getGeometry();(this.mode_===D.POINT?r=this.sketchCoords_:this.mode_===D.POLYGON?(r=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(h=this.finishCoordinate_.slice())):r=(e=this.sketchCoords_)[e.length-1],r[0]=h[0],r[1]=h[1],this.geometryFunction_(this.sketchCoords_,l),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(h);if(l.getType()==C.a.POLYGON&&this.mode_!==D.POLYGON){this.sketchLine_||(this.sketchLine_=new o.a);var c=l.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(c.getLayout(),c.getFlatCoordinates()),n.changed()):(n=new k.a(c.getFlatCoordinates(),c.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,n=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===D.LINE_STRING?(this.finishCoordinate_=n.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(n.slice()),this.geometryFunction_(r,o)):this.mode_===D.POLYGON&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(n.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===D.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===D.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry();this.mode_===D.LINE_STRING?(e.pop(),this.geometryFunction_(e,r)):this.mode_===D.POLYGON&&(e[0].pop(),this.geometryFunction_(e,r),e=r.getCoordinates()),this.type_===C.a.MULTI_POINT?t.setGeometry(new T.a([e])):this.type_===C.a.MULTI_LINE_STRING?t.setGeometry(new F.a([e])):this.type_===C.a.MULTI_POLYGON&&t.setGeometry(new P.a([e])),this.dispatchEvent(new V(A,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new V(B,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var map=this.getMap(),t=this.getActive();map&&t||this.abortDrawing_(),this.overlay_.setMap(t?map:null)},e}(j.b);e.a=U},538:function(t,e,r){var content=r(539);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(12).default)("e6b013ca",content,!0,{sourceMap:!1})},539:function(t,e,r){(t.exports=r(11)(!1)).push([t.i,".v-speed-dial{position:relative}.v-speed-dial--absolute{position:absolute}.v-speed-dial--fixed{position:fixed}.v-speed-dial--absolute,.v-speed-dial--fixed{z-index:4}.v-speed-dial--absolute>.v-btn--floating,.v-speed-dial--fixed>.v-btn--floating{margin:0}.v-speed-dial--top{top:16px}.v-speed-dial--bottom{bottom:16px}.v-speed-dial--left{left:16px}.v-speed-dial--right{right:16px}.v-speed-dial--direction-left .v-speed-dial__list,.v-speed-dial--direction-right .v-speed-dial__list{height:100%;top:0;padding:0 16px}.v-speed-dial--direction-bottom .v-speed-dial__list,.v-speed-dial--direction-top .v-speed-dial__list{left:0;width:100%}.v-speed-dial--direction-top .v-speed-dial__list{flex-direction:column-reverse;bottom:100%}.v-speed-dial--direction-right .v-speed-dial__list{flex-direction:row;left:100%}.v-speed-dial--direction-bottom .v-speed-dial__list{flex-direction:column;top:100%}.v-speed-dial--direction-left .v-speed-dial__list{flex-direction:row-reverse;right:100%}.v-speed-dial__list{align-items:center;display:flex;justify-content:center;padding:16px 0;position:absolute}.v-speed-dial__list .v-btn{margin:6px}.v-speed-dial:not(.v-speed-dial--is-active) .v-speed-dial__list{pointer-events:none}",""])},629:function(t,e,r){"use strict";r(25);var n=r(2),o=(r(108),r(22),r(24),r(538),r(27)),h=r(61),l=r(1).a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),c=r(81),d=r(6);e.a=Object(d.a)(h.a,o.a,l).extend({name:"v-speed-dial",directives:{ClickOutside:c.a},props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){var t;return t={"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed},Object(n.a)(t,"v-speed-dial--direction-".concat(this.direction),!0),Object(n.a)(t,"v-speed-dial--is-active",this.isActive),t}},render:function(t){var e=this,r=[],data={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};if(this.openOnHover&&(data.on.mouseenter=function(){return e.isActive=!0},data.on.mouseleave=function(){return e.isActive=!1}),this.isActive){var n=0;r=(this.$slots.default||[]).map(function(b,i){return!b.tag||void 0===b.componentOptions||"v-btn"!==b.componentOptions.Ctor.options.name&&"v-tooltip"!==b.componentOptions.Ctor.options.name?(b.key=i,b):t("div",{style:{transitionDelay:.05*++n+"s"},key:i},[b])})}var o=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},r);return t("div",data,[this.$slots.activator,o])}})}}]);