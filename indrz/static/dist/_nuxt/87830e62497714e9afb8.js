(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{610:function(e,t,l){"use strict";l.r(t);l(10),l(9),l(4),l(7),l(3);var n=l(2),o=l(56),d=l(131),r={name:"AddEditShelf",props:{title:{type:String,default:function(){return""}},dialog:{type:Boolean,default:function(){return!1}},editedItem:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1}},methods:{close:function(){this.$emit("close")},save:function(){var e=this;this.loading=!0,this.$store.dispatch("SAVE_SHELF",this.editedItem).then(function(t){e.$emit("save")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})}}},c=l(32),m=l(36),f=l.n(m),v=l(145),h=l(384),_=l(336),x=l(598),I=l(321),y=l(532),S=l(513),O=l(120),k=l(595),w=l(323),V=l(495),component=Object(c.a)(r,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-dialog",{attrs:{value:e.dialog,persistent:"","max-width":"500px"}},[l("v-card",[l("v-card-title",[l("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),e._v(" "),l("v-card-text",[l("v-form",[l("v-container",[l("v-row",{attrs:{"no-gutters":""}},[l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"External Shelf ID"},model:{value:e.editedItem.bookshelf_id,callback:function(t){e.$set(e.editedItem,"bookshelf_id",t)},expression:"editedItem.bookshelf_id"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Floor Number"},model:{value:e.editedItem.floor,callback:function(t){e.$set(e.editedItem,"floor",t)},expression:"editedItem.floor"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"External Shelf Section"},model:{value:e.editedItem.external_id,callback:function(t){e.$set(e.editedItem,"external_id",t)},expression:"editedItem.external_id"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Shelving System End Value"},model:{value:e.editedItem.system_to,callback:function(t){e.$set(e.editedItem,"system_to",t)},expression:"editedItem.system_to"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Shelving System Start Value"},model:{value:e.editedItem.system_from,callback:function(t){e.$set(e.editedItem,"system_from",t)},expression:"editedItem.system_from"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Left or Right Side"},model:{value:e.editedItem.side,callback:function(t){e.$set(e.editedItem,"side",t)},expression:"editedItem.side"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Distance From Measure"},model:{value:e.editedItem.measure_from,callback:function(t){e.$set(e.editedItem,"measure_from",t)},expression:"editedItem.measure_from"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[l("v-text-field",{attrs:{label:"Distance End Measure"},model:{value:e.editedItem.measure_to,callback:function(t){e.$set(e.editedItem,"measure_to",t)},expression:"editedItem.measure_to"}})],1)],1)],1)],1)],1),e._v(" "),l("v-card-actions",[l("v-spacer"),e._v(" "),l("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.loading},on:{click:e.close}},[e._v("\n        Cancel\n      ")]),e._v(" "),l("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.save}},[e._v("\n        Save\n        "),l("v-icon",{attrs:{right:""}},[e._v("\n          mdi-save\n        ")])],1)],1)],1)],1)},[],!1,null,"bd826d88",null),j=component.exports;function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(object);e&&(l=l.filter(function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable})),t.push.apply(t,l)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(source,!0).forEach(function(t){Object(n.a)(e,t,source[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(source).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))})}return e}f()(component,{VBtn:v.a,VCard:h.a,VCardActions:_.a,VCardText:_.b,VCardTitle:_.c,VCol:x.a,VContainer:I.a,VDialog:y.a,VForm:S.a,VIcon:O.a,VRow:k.a,VSpacer:w.a,VTextField:V.a});var $={name:"ShelvesList",components:{AddEditShelf:j},data:function(){return{loading:!1,singleSelect:!1,dialog:!1,selected:[],pagination:{},headers:[{text:"External Id",align:"right",sortable:!1,value:"external_id"},{text:"System From",align:"right",sortable:!1,value:"system_from"},{text:"System To",align:"right",sortable:!1,value:"system_to"},{text:"Shelf Side",align:"right",sortable:!1,value:"side"},{text:"Map",value:"map",sortable:!1,width:"56px"},{text:"Edit",value:"edit",sortable:!1,width:"56px"}],editedIndex:-1,editedItem:{},defaultItem:{bookshelf_id:null,external_id:null,floor:null,id:null,measure_from:null,measure_to:null,section_child:null,section_id:null,section_main:null,side:"L",system_from:null,system_to:null}}},computed:D({},Object(o.c)({shelvesListData:function(e){var t=e.user.shelves,data=t.data,l=t.total;return this.total=l,data}}),{formTitle:function(){return-1===this.editedIndex?"New Shelf":"Edit Shelf"}}),watch:{dialog:function(e){e||this.close()},pagination:{handler:function(){this.loadData()},deep:!0}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loading||(this.loading=!0,this.$store.dispatch("user/LOAD_SHELVES",D({},d.a.getPageParams(this.pagination))).catch(function(e){console.log(e)}).finally(function(){e.loading=!1}))},editItem:function(e){this.editedIndex=this.shelvesListData.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1},300)},save:function(){this.editedIndex>-1&&Object.assign(this.shelvesListData[this.editedIndex],this.editedItem),this.close()}}},L=l(611),P=Object(c.a)($,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.shelvesListData,"server-items-length":e.total,"single-select":e.singleSelect,"item-key":"id",options:e.pagination,"show-select":"",loading:e.loading,"loading-text":"Loading... Please wait"},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[l("add-edit-shelf",{attrs:{title:e.formTitle,dialog:e.dialog,"edited-item":e.editedItem},on:{save:e.save,close:e.close}})]},proxy:!0},{key:"item.map",fn:function(t){t.item;return[l("v-icon",{attrs:{small:""}},[e._v("\n        mdi-map\n      ")])]}},{key:"item.edit",fn:function(t){var n=t.item;return[l("v-icon",{attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("\n        mdi-pencil\n      ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},[],!1,null,"61575966",null),C=P.exports;f()(P,{VDataTable:L.a,VIcon:O.a});var T={layout:"admin",components:{ShelvesList:C}},F=Object(c.a)(T,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("shelves-list")],1)},[],!1,null,"097ab972",null);t.default=F.exports}}]);