#!/usr/bin/env bash
# Generate a new .env file from GitLab variables
ENV_FILE=".env"
echo "# .env file generate from GitLab CI commit: $COMMIT_ID" > $ENV_FILE

cat >$ENV_FILE <<EOL
APP_ROOT=$APP_ROOT
ENV_TYPE=$ENV_TYPE
PROJECT_NAME=$PROJECT_NAME
PROJECT_ID=$PROJECT_ID
POSTGRES_HOST=$POSTGRES_HOST
POSTGRES_PORT=$POSTGRES_PORT
POSTGRES_USER=$POSTGRES_USER
POSTGRES_PASS=$POSTGRES_PASS
POSTGRES_DBNAME=$POSTGRES_DBNAME
ALLOW_IP_RANGE=$ALLOW_IP_RANGE
DJANGO_ALLOWED_CONTAINER_HOST=$DJANGO_ALLOWED_CONTAINER_HOST
SECRET_KEY=$SECRET_KEY
SENTRY_URL=$SENTRY_URL
REDIS_URL=$REDIS_URL
BING_API_KEY=$BING_API_KEY
FORGE_CLIENT_ID=$FORGE_CLIENT_ID
FORGE_CLIENT_SECRET_KEY=$FORGE_CLIENT_SECRET_KEY
FORGE_BUCKET_NAME=$FORGE_BUCKET_NAME
KOBO_USER=$KOBO_USER
KOBO_PASS=$KOBO_PASS
DEBUG=$DEBUG
JS_DEBUG=$JS_DEBUG
STATIC_URL=$STATIC_URL
STATIC_ROOT=$STATIC_ROOT
MEDIA_FOLDER=$MEDIA_FOLDER
MEDIA_URL=$MEDIA_URL
PDF_STATIC_IMAGES_ROOT=$PDF_STATIC_IMAGES_ROOT
PDF_TABLE_IMAGES_ROOT=$PDF_TABLE_IMAGES_ROOT
BIM_BASE_PATH=$BIM_BASE_PATH
BIM_REDIRECT_PATH=$BIM_REDIRECT_PATH
BIM_CLIENT_ID=$BIM_CLIENT_ID
BIM_CLIENT_SECRET=$BIM_CLIENT_SECRET
BIM_PROJECT_ID=$BIM_PROJECT_ID
BIM_TOKEN_AUTH=$BIM_TOKEN_AUTH
BIM_TOKEN_BEARER=$BIM_TOKEN_BEARER
SPACIALITE_PATH=$SPACIALITE_PATH
RUN_MIGRATIONS=$RUN_MIGRATIONS
EOL

